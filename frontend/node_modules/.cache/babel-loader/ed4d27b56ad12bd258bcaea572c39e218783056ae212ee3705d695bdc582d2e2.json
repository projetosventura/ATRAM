{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Paper,Typography,Grid,TextField,Button,Box,FormControl,InputLabel,Select,MenuItem,CircularProgress,IconButton,ImageList,ImageListItem,ImageListItemBar,FormHelperText}from'@mui/material';import{PhotoCamera as PhotoCameraIcon,Delete as DeleteIcon}from'@mui/icons-material';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_URL='/api';const conditions=[{value:'good',label:'Bom'},{value:'regular',label:'Regular'},{value:'bad',label:'Ruim'}];const PublicInspectionForm=_ref=>{var _inspectionData$vehic;let{token}=_ref;const navigate=useNavigate();const[loading,setLoading]=useState(true);const[submitting,setSubmitting]=useState(false);const[inspectionData,setInspectionData]=useState(null);const[photos,setPhotos]=useState([]);const[formData,setFormData]=useState({mileage:'',fuel_level:'',brake_condition:'',general_condition:'',observations:''});const[errors,setErrors]=useState({});useEffect(()=>{fetchInspectionData();},[token]);const fetchInspectionData=async()=>{try{const response=await axios.get(`${API_URL}/inspection-requests/${token}`);// Se a vistoria já foi preenchida, redireciona para a página de sucesso\nif(response.data.inspection_date){navigate('/inspection/success');return;}setInspectionData(response.data);setLoading(false);}catch(error){console.error('Error fetching inspection data:',error);alert('Erro ao carregar dados da vistoria');setLoading(false);}};const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));setErrors(prev=>({...prev,[name]:''}));};const handlePhotoChange=e=>{const files=Array.from(e.target.files);const newPhotos=files.map(file=>({file,preview:URL.createObjectURL(file)}));setPhotos(prev=>[...prev,...newPhotos]);};const handleRemovePhoto=index=>{setPhotos(prev=>prev.filter((_,i)=>i!==index));};const handleSubmit=async e=>{e.preventDefault();if(submitting)return;// Previne envios múltiplos\nsetSubmitting(true);try{const formDataToSend=new FormData();Object.entries(formData).forEach(_ref2=>{let[key,value]=_ref2;formDataToSend.append(key,value);});photos.forEach((photo,index)=>{formDataToSend.append('photos',photo.file);});await axios.post(`${API_URL}/inspection-requests/${token}/submit`,formDataToSend,{headers:{'Content-Type':'multipart/form-data'}});navigate('/inspection/success');}catch(error){var _error$response,_error$response$data;console.error('Error submitting inspection:',error);alert(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Erro ao enviar vistoria');setSubmitting(false);// Só reseta o submitting em caso de erro\n}};if(loading){return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',mt:4},children:/*#__PURE__*/_jsx(CircularProgress,{})})});}if(!inspectionData){return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Typography,{variant:\"h5\",color:\"error\",align:\"center\",sx:{mt:4},children:\"Vistoria n\\xE3o encontrada ou j\\xE1 preenchida\"})});}return/*#__PURE__*/_jsx(Container,{maxWidth:\"md\",sx:{py:4},children:/*#__PURE__*/_jsxs(Paper,{sx:{p:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,align:\"center\",children:\"Formul\\xE1rio de Vistoria\"}),/*#__PURE__*/_jsxs(Box,{sx:{mb:4},children:[((_inspectionData$vehic=inspectionData.vehicle_info)===null||_inspectionData$vehic===void 0?void 0:_inspectionData$vehic.type)==='vehicle_set'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",gutterBottom:true,children:[\"Conjunto de Ve\\xEDculos: \",inspectionData.vehicle_info.name]}),/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",color:\"textSecondary\",children:[\"Tipo: \",inspectionData.vehicle_info.set_type==='cavalo'?'Apenas Cavalo':inspectionData.vehicle_info.set_type==='carreta'?'Apenas Carreta':'Conjugado (Cavalo + Carreta)']}),inspectionData.vehicle_info.cavalo&&/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",children:[\"Cavalo: \",inspectionData.vehicle_info.cavalo.plate,\" - \",inspectionData.vehicle_info.cavalo.brand,\" \",inspectionData.vehicle_info.cavalo.model]}),inspectionData.vehicle_info.carreta&&/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",children:[\"Carreta: \",inspectionData.vehicle_info.carreta.plate,\" - \",inspectionData.vehicle_info.carreta.brand,\" \",inspectionData.vehicle_info.carreta.model]})]}):/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",children:[\"Caminh\\xE3o: \",inspectionData.truck_plate,\" - \",inspectionData.truck_model]}),/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",children:[\"Motorista: \",inspectionData.driver_name]})]}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Quilometragem\",name:\"mileage\",type:\"number\",value:formData.mileage,onChange:handleChange,required:true,InputProps:{inputProps:{min:0}}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"N\\xEDvel de Combust\\xEDvel (%)\",name:\"fuel_level\",type:\"number\",value:formData.fuel_level,onChange:handleChange,required:true,InputProps:{inputProps:{min:0,max:100}}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,error:!!errors.brake_condition,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Condi\\xE7\\xE3o dos Freios\"}),/*#__PURE__*/_jsxs(Select,{name:\"brake_condition\",value:formData.brake_condition,onChange:handleChange,label:\"Condi\\xE7\\xE3o dos Freios\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"good\",children:\"Bom\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"regular\",children:\"Regular\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"bad\",children:\"Ruim\"})]}),errors.brake_condition&&/*#__PURE__*/_jsx(FormHelperText,{children:errors.brake_condition})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,error:!!errors.general_condition,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Condi\\xE7\\xE3o Geral\"}),/*#__PURE__*/_jsxs(Select,{name:\"general_condition\",value:formData.general_condition,onChange:handleChange,label:\"Condi\\xE7\\xE3o Geral\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"good\",children:\"Bom\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"regular\",children:\"Regular\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"bad\",children:\"Ruim\"})]}),errors.general_condition&&/*#__PURE__*/_jsx(FormHelperText,{children:errors.general_condition})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,multiline:true,rows:4,label:\"Observa\\xE7\\xF5es\",name:\"observations\",value:formData.observations,onChange:handleChange})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",gutterBottom:true,children:\"Fotos da Vistoria\"}),/*#__PURE__*/_jsx(\"input\",{accept:\"image/*\",style:{display:'none'},id:\"photo-upload\",type:\"file\",multiple:true,onChange:handlePhotoChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"photo-upload\",children:/*#__PURE__*/_jsx(Button,{variant:\"outlined\",component:\"span\",startIcon:/*#__PURE__*/_jsx(PhotoCameraIcon,{}),children:\"Adicionar Fotos\"})})]}),photos.length>0&&/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(ImageList,{cols:3,gap:8,children:photos.map((photo,index)=>/*#__PURE__*/_jsxs(ImageListItem,{children:[/*#__PURE__*/_jsx(\"img\",{src:photo.preview,alt:`Foto ${index+1}`,loading:\"lazy\",style:{height:200,objectFit:'cover'}}),/*#__PURE__*/_jsx(ImageListItemBar,{actionIcon:/*#__PURE__*/_jsx(IconButton,{sx:{color:'white'},onClick:()=>handleRemovePhoto(index),children:/*#__PURE__*/_jsx(DeleteIcon,{})})})]},index))})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",fullWidth:true,disabled:submitting,sx:{mt:2},children:submitting?/*#__PURE__*/_jsx(CircularProgress,{size:24}):'Enviar Vistoria'})})]})})]})});};export default PublicInspectionForm;","map":{"version":3,"names":["React","useState","useEffect","Container","Paper","Typography","Grid","TextField","Button","Box","FormControl","InputLabel","Select","MenuItem","CircularProgress","IconButton","ImageList","ImageListItem","ImageListItemBar","FormHelperText","PhotoCamera","PhotoCameraIcon","Delete","DeleteIcon","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_URL","conditions","value","label","PublicInspectionForm","_ref","_inspectionData$vehic","token","navigate","loading","setLoading","submitting","setSubmitting","inspectionData","setInspectionData","photos","setPhotos","formData","setFormData","mileage","fuel_level","brake_condition","general_condition","observations","errors","setErrors","fetchInspectionData","response","get","data","inspection_date","error","console","alert","handleChange","e","name","target","prev","handlePhotoChange","files","Array","from","newPhotos","map","file","preview","URL","createObjectURL","handleRemovePhoto","index","filter","_","i","handleSubmit","preventDefault","formDataToSend","FormData","Object","entries","forEach","_ref2","key","append","photo","post","headers","_error$response","_error$response$data","children","sx","display","justifyContent","mt","variant","color","align","maxWidth","py","p","gutterBottom","mb","vehicle_info","type","set_type","cavalo","plate","brand","model","carreta","truck_plate","truck_model","driver_name","onSubmit","container","spacing","item","xs","sm","fullWidth","onChange","required","InputProps","inputProps","min","max","multiline","rows","accept","style","id","multiple","htmlFor","component","startIcon","length","cols","gap","src","alt","height","objectFit","actionIcon","onClick","disabled","size"],"sources":["D:/Estudos/ATRAM/frontend/src/components/inspections/PublicInspectionForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Container,\r\n  Paper,\r\n  Typography,\r\n  Grid,\r\n  TextField,\r\n  Button,\r\n  Box,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  CircularProgress,\r\n  IconButton,\r\n  ImageList,\r\n  ImageListItem,\r\n  ImageListItemBar,\r\n  FormHelperText,\r\n} from '@mui/material';\r\nimport {\r\n  PhotoCamera as PhotoCameraIcon,\r\n  Delete as DeleteIcon,\r\n} from '@mui/icons-material';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst API_URL = '/api';\r\n\r\nconst conditions = [\r\n  { value: 'good', label: 'Bom' },\r\n  { value: 'regular', label: 'Regular' },\r\n  { value: 'bad', label: 'Ruim' },\r\n];\r\n\r\nconst PublicInspectionForm = ({ token }) => {\r\n  const navigate = useNavigate();\r\n  const [loading, setLoading] = useState(true);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [inspectionData, setInspectionData] = useState(null);\r\n  const [photos, setPhotos] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    mileage: '',\r\n    fuel_level: '',\r\n    brake_condition: '',\r\n    general_condition: '',\r\n    observations: ''\r\n  });\r\n  const [errors, setErrors] = useState({});\r\n\r\n  useEffect(() => {\r\n    fetchInspectionData();\r\n  }, [token]);\r\n\r\n  const fetchInspectionData = async () => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/inspection-requests/${token}`);\r\n      \r\n      // Se a vistoria já foi preenchida, redireciona para a página de sucesso\r\n      if (response.data.inspection_date) {\r\n        navigate('/inspection/success');\r\n        return;\r\n      }\r\n      \r\n      setInspectionData(response.data);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching inspection data:', error);\r\n      alert('Erro ao carregar dados da vistoria');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n    setErrors(prev => ({ ...prev, [name]: '' }));\r\n  };\r\n\r\n  const handlePhotoChange = (e) => {\r\n    const files = Array.from(e.target.files);\r\n    const newPhotos = files.map(file => ({\r\n      file,\r\n      preview: URL.createObjectURL(file)\r\n    }));\r\n    setPhotos(prev => [...prev, ...newPhotos]);\r\n  };\r\n\r\n  const handleRemovePhoto = (index) => {\r\n    setPhotos(prev => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (submitting) return; // Previne envios múltiplos\r\n    \r\n    setSubmitting(true);\r\n\r\n    try {\r\n      const formDataToSend = new FormData();\r\n      Object.entries(formData).forEach(([key, value]) => {\r\n        formDataToSend.append(key, value);\r\n      });\r\n\r\n      photos.forEach((photo, index) => {\r\n        formDataToSend.append('photos', photo.file);\r\n      });\r\n\r\n      await axios.post(\r\n        `${API_URL}/inspection-requests/${token}/submit`,\r\n        formDataToSend,\r\n        {\r\n          headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n          }\r\n        }\r\n      );\r\n\r\n      navigate('/inspection/success');\r\n    } catch (error) {\r\n      console.error('Error submitting inspection:', error);\r\n      alert(error.response?.data?.error || 'Erro ao enviar vistoria');\r\n      setSubmitting(false); // Só reseta o submitting em caso de erro\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container>\r\n        <Box sx={{ display: 'flex', justifyContent: 'center', mt: 4 }}>\r\n          <CircularProgress />\r\n        </Box>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (!inspectionData) {\r\n    return (\r\n      <Container>\r\n        <Typography variant=\"h5\" color=\"error\" align=\"center\" sx={{ mt: 4 }}>\r\n          Vistoria não encontrada ou já preenchida\r\n        </Typography>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"md\" sx={{ py: 4 }}>\r\n      <Paper sx={{ p: 3 }}>\r\n        <Typography variant=\"h4\" gutterBottom align=\"center\">\r\n          Formulário de Vistoria\r\n        </Typography>\r\n\r\n        <Box sx={{ mb: 4 }}>\r\n          {inspectionData.vehicle_info?.type === 'vehicle_set' ? (\r\n            <>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Conjunto de Veículos: {inspectionData.vehicle_info.name}\r\n              </Typography>\r\n              <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                Tipo: {inspectionData.vehicle_info.set_type === 'cavalo' ? 'Apenas Cavalo' : \r\n                       inspectionData.vehicle_info.set_type === 'carreta' ? 'Apenas Carreta' : \r\n                       'Conjugado (Cavalo + Carreta)'}\r\n              </Typography>\r\n              {inspectionData.vehicle_info.cavalo && (\r\n                <Typography variant=\"subtitle1\">\r\n                  Cavalo: {inspectionData.vehicle_info.cavalo.plate} - {inspectionData.vehicle_info.cavalo.brand} {inspectionData.vehicle_info.cavalo.model}\r\n                </Typography>\r\n              )}\r\n              {inspectionData.vehicle_info.carreta && (\r\n                <Typography variant=\"subtitle1\">\r\n                  Carreta: {inspectionData.vehicle_info.carreta.plate} - {inspectionData.vehicle_info.carreta.brand} {inspectionData.vehicle_info.carreta.model}\r\n                </Typography>\r\n              )}\r\n            </>\r\n          ) : (\r\n            <Typography variant=\"subtitle1\">\r\n              Caminhão: {inspectionData.truck_plate} - {inspectionData.truck_model}\r\n            </Typography>\r\n          )}\r\n          <Typography variant=\"subtitle1\">\r\n            Motorista: {inspectionData.driver_name}\r\n          </Typography>\r\n        </Box>\r\n\r\n        <form onSubmit={handleSubmit}>\r\n          <Grid container spacing={3}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Quilometragem\"\r\n                name=\"mileage\"\r\n                type=\"number\"\r\n                value={formData.mileage}\r\n                onChange={handleChange}\r\n                required\r\n                InputProps={{ inputProps: { min: 0 } }}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Nível de Combustível (%)\"\r\n                name=\"fuel_level\"\r\n                type=\"number\"\r\n                value={formData.fuel_level}\r\n                onChange={handleChange}\r\n                required\r\n                InputProps={{ inputProps: { min: 0, max: 100 } }}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={6}>\r\n              <FormControl fullWidth error={!!errors.brake_condition}>\r\n                <InputLabel>Condição dos Freios</InputLabel>\r\n                <Select\r\n                  name=\"brake_condition\"\r\n                  value={formData.brake_condition}\r\n                  onChange={handleChange}\r\n                  label=\"Condição dos Freios\"\r\n                >\r\n                  <MenuItem value=\"good\">Bom</MenuItem>\r\n                  <MenuItem value=\"regular\">Regular</MenuItem>\r\n                  <MenuItem value=\"bad\">Ruim</MenuItem>\r\n                </Select>\r\n                {errors.brake_condition && <FormHelperText>{errors.brake_condition}</FormHelperText>}\r\n              </FormControl>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={6}>\r\n              <FormControl fullWidth error={!!errors.general_condition}>\r\n                <InputLabel>Condição Geral</InputLabel>\r\n                <Select\r\n                  name=\"general_condition\"\r\n                  value={formData.general_condition}\r\n                  onChange={handleChange}\r\n                  label=\"Condição Geral\"\r\n                >\r\n                  <MenuItem value=\"good\">Bom</MenuItem>\r\n                  <MenuItem value=\"regular\">Regular</MenuItem>\r\n                  <MenuItem value=\"bad\">Ruim</MenuItem>\r\n                </Select>\r\n                {errors.general_condition && <FormHelperText>{errors.general_condition}</FormHelperText>}\r\n              </FormControl>\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                multiline\r\n                rows={4}\r\n                label=\"Observações\"\r\n                name=\"observations\"\r\n                value={formData.observations}\r\n                onChange={handleChange}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n              <Typography variant=\"subtitle1\" gutterBottom>\r\n                Fotos da Vistoria\r\n              </Typography>\r\n              <input\r\n                accept=\"image/*\"\r\n                style={{ display: 'none' }}\r\n                id=\"photo-upload\"\r\n                type=\"file\"\r\n                multiple\r\n                onChange={handlePhotoChange}\r\n              />\r\n              <label htmlFor=\"photo-upload\">\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  component=\"span\"\r\n                  startIcon={<PhotoCameraIcon />}\r\n                >\r\n                  Adicionar Fotos\r\n                </Button>\r\n              </label>\r\n            </Grid>\r\n\r\n            {photos.length > 0 && (\r\n              <Grid item xs={12}>\r\n                <ImageList cols={3} gap={8}>\r\n                  {photos.map((photo, index) => (\r\n                    <ImageListItem key={index}>\r\n                      <img\r\n                        src={photo.preview}\r\n                        alt={`Foto ${index + 1}`}\r\n                        loading=\"lazy\"\r\n                        style={{ height: 200, objectFit: 'cover' }}\r\n                      />\r\n                      <ImageListItemBar\r\n                        actionIcon={\r\n                          <IconButton\r\n                            sx={{ color: 'white' }}\r\n                            onClick={() => handleRemovePhoto(index)}\r\n                          >\r\n                            <DeleteIcon />\r\n                          </IconButton>\r\n                        }\r\n                      />\r\n                    </ImageListItem>\r\n                  ))}\r\n                </ImageList>\r\n              </Grid>\r\n            )}\r\n\r\n            <Grid item xs={12}>\r\n              <Button\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                fullWidth\r\n                disabled={submitting}\r\n                sx={{ mt: 2 }}\r\n              >\r\n                {submitting ? <CircularProgress size={24} /> : 'Enviar Vistoria'}\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default PublicInspectionForm; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}